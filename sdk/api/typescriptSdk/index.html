
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../syncActions/">
      
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.9">
    
    
      
        <title>TypeScript SDK Client v2 - commercetools NodeJS</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.4af4bdda.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#typescript-sdk-client-v2" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="commercetools NodeJS" class="md-header__button md-logo" aria-label="commercetools NodeJS" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            commercetools NodeJS
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              TypeScript SDK Client v2
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="commercetools NodeJS" class="md-nav__button md-logo" aria-label="commercetools NodeJS" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    commercetools NodeJS
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Cli
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Cli
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cli/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CLI
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cli/category-exporter/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Category Exporter
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cli/csv-parser-discount-code/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CSV Parser Discount Code
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cli/csv-parser-orders/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CSV Parser Orders
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cli/csv-parser-price/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CSV Parser Price
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cli/csv-parser-state/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CSV Parser State
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cli/custom-objects-exporter/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Custom Objects Exporter
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cli/custom-objects-importer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Custom Objects Importer
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cli/customer-groups-exporter/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Customer Groups Exporter
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cli/discount-code-exporter/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Discount Code Exporter
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cli/discount-code-generator/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Discount Code Generator
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cli/discount-code-importer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Discount Code Importer
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cli/inventories-exporter/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Inventories Exporter
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cli/personal-data-erasure/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Personal Data Erasure
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cli/price-exporter/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Price Exporter
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cli/product-exporter/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Product Exporter
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cli/product-json-to-csv/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Product JSON to CSV Parser
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cli/product-json-to-xlsx/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Product JSON to XLSX Parser
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cli/resource-deleter/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Resource Deleter
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cli/state-importer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    State Importer
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Sdk
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Sdk
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SDK
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Glossary/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Glossary
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Middlewares/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Middlewares
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Testing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Testing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upgrading-from-sphere-node-sdk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Upgrading from sphere-node-sdk
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6" checked>
        
          
          <label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Api
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_6">
            <span class="md-nav__icon md-icon"></span>
            Api
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API Reference
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../apiRequestBuilder/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    api-request-builder
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../getCredentials/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    get-credentials
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../httpUserAgent/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    http-user-agent
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sdkAuth/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sdk-auth
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sdkClient/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sdk-client
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sdkMiddlewareAuth/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sdk-middleware-auth
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sdkMiddlewareCorrelationId/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sdk-middleware-correlation-id
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sdkMiddlewareHttp/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sdk-middleware-http
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sdkMiddlewareLogger/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sdk-middleware-logger
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sdkMiddlewareQueue/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sdk-middleware-queue
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sdkMiddlewareUserAgent/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sdk-middleware-user-agent
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../syncActions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sync-actions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    TypeScript SDK Client v2
    
  </span>
  

      </a>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="typescript-sdk-client-v2">TypeScript SDK Client v2</h1>
<p>Follow this <a href="https://docs.commercetools.com/sdk/typescript-sdk">link</a> for an up to date and more accurate JavaScript/TypeScript SDK documentation.</p>
<!--
We provide a packages written in typescript for using our API

The **@commercetools/sdk-client-v2** is the TypeScript package that facilitates HTTP [requests](https://commercetools.github.io/nodejs/sdk/Glossary.html#clientrequest) to the Platform, ML or History API by using a predefined set of middlewares.

Unlike the Node.js sdk-client, the TypeScript client is a little different in its usage however, they are both very similar in every other aspect and it's also backward compatible with the Nodejs sdk-client.

## Issues and Contribution

Please feel free to open an [issue](https://github.com/commercetools/commercetools-sdk-typescript/issues) or even a [PR](https://github.com/commercetools/commercetools-sdk-typescript/pulls) in this repository if you come across any issue while using this SDK.

![example usage](typescript_tutorial.gif)

The source code for these packages are located in the [typescript](https://github.com/commercetools/commercetools-sdk-typescript/) repository.

## Usage examples

### Browser environment


<pre><code class="language-html">&lt;script src=&quot;https://unpkg.com/@commercetools/sdk-client-v2@0.2.0/dist/commercetools-sdk-client-v2.umd.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;https://unpkg.com/@commercetools/platform-sdk@1.20.0/dist/commercetools-platform-sdk.umd.js&quot;&gt;&lt;/script&gt;
...
</code></pre>



<pre><code class="language-html">&lt;script&gt;
  // global: @commercetools/sdk-client-v2
  // global: @commercetools/platform-sdk
  ;(function () {
    //  We can now access the sdk-client-v2 and platform-sdk object as:
    //  const { ClientBuilder } = this['@commercetools/sdk-client-v2']
    //  const { createApiBuilderFromCtpClient } = this['@commercetools/platform-sdk']
    //  or
    //  const { ClientBuilder } = window['@commercetools/sdk-client-v2']
    //  const { createApiBuilderFromCtpClient } = window['@commercetools/platform-sdk']
    //  ...
  })()
&lt;/script&gt;
</code></pre>


See full usage example [here](https://github.com/commercetools/commercetools-sdk-typescript/blob/master/examples/browser/browser.html)

### Node environment


<pre><code class="language-bash">npm install --save @commercetools/platform-sdk
npm install --save @commercetools/importapi-sdk
npm install --save @commercetools/sdk-client-v2
</code></pre>



<pre><code class="language-ts">const {
  ClientBuilder,
  createAuthForClientCredentialsFlow,
  createHttpClient,
} = require('@commercetools/sdk-client-v2')
const { createApiBuilderFromCtpClient } = require('@commercetools/platform-sdk')
const fetch = require('node-fetch')

const projectKey = 'mc-project-key'
const authMiddlewareOptions = {
  host: 'https://auth.europe-west1.gcp.commercetools.com',
  projectKey,
  credentials: {
    clientId: 'mc-client-id',
    clientSecret: 'mc-client-secrets',
  },
  oauthUri: '/oauth/token', // - optional custom oauthUri
  scopes: [`manage_project:${projectKey}`],
  fetch,
}

const httpMiddlewareOptions = {
  host: 'https://api.europe-west1.gcp.commercetools.com',
  fetch,
}

const client = new ClientBuilder()
  .withProjectKey(projectKey)
  .withMiddleware(createAuthForClientCredentialsFlow(authMiddlewareOptions))
  .withMiddleware(createHttpClient(httpMiddlewareOptions))
  .withUserAgentMiddleware()
  .build()

// or
const client = new ClientBuilder()
  .withProjectKey(projectKey)
  .withClientCredentialsFlow(authMiddlewareOptions)
  .withHttpMiddleware(httpMiddlewareOptions)
  .withUserAgentMiddleware()
  .build()

const apiRoot = createApiBuilderFromCtpClient(client)

// calling the platform functions
// get project details
apiRoot
  .withProjectKey({
    projectKey,
  })
  .get()
  .execute()
  .then((x) =&gt; {
    /*...*/
  })

// create a productType
apiRoot
  .withProjectKey({ projectKey })
  .productTypes()
  .post({
    body: { name: 'product-type-name', description: 'some description' },
  })
  .execute()
  .then((x) =&gt; {
    /*...*/
  })

// create a product
apiRoot
  .withProjectKey({ projectKey })
  .products()
  .post({
    body: {
      name: { en: 'our-great-product-name' },
      productType: {
        typeId: 'product-type',
        id: 'some-product-type-id',
      },
      slug: { en: 'some-slug' },
    },
  })
  .execute()
  .then((x) =&gt; {
    /*...*/
  })

// -----------------------------------------------------------------------
// The sdk-client-v2 also have support for the old syntax
import {
  createClient,
  createHttpClient,
  createAuthForClientCredentialsFlow,
} from '@commercetools/sdk-client-v2'
import { createApiBuilderFromCtpClient } from '@commercetools/platform-sdk'
import fetch from 'node-fetch'

const projectKey = 'some_project_key'

const authMiddleware = createAuthForClientCredentialsFlow({
  host: 'https://auth.europe-west1.gcp.commercetools.com',
  projectKey,
  credentials: {
    clientId: 'some_id',
    clientSecret: 'some_secret',
  },
  fetch,
})

const httpMiddleware = createHttpClient({
  host: 'https://api.europe-west1.gcp.commercetools.com',
  fetch,
})

const ctpClient = createClient({
  middlewares: [authMiddleware, httpMiddleware],
})

const apiRoot = createApiBuilderFromCtpClient(ctpClient)

apiRoot
  .withProjectKey({
    projectKey,
  })
  .get()
  .execute()
  .then((x) =&gt; {
    /*...*/
  })

apiRoot
  .withProjectKey({ projectKey })
  .productTypes()
  .post({
    body: { name: 'product-type-name', description: 'some description' },
  })
  .execute()
  .then((x) =&gt; {
    /*...*/
  })

apiRoot
  .withProjectKey({ projectKey })
  .products()
  .post({
    body: {
      name: { en: 'our-great-product-name' },
      productType: {
        typeId: 'product-type',
        id: 'some-product-type-id',
      },
      slug: { en: 'some-slug' },
    },
  })
  .execute()
  .then((x) =&gt; {
    /*...*/
  })
</code></pre>


See an actual usage example [here](https://github.com/commercetools/commercetools-sdk-typescript/blob/master/examples/node/node.js)

# Comprehensive usasge example

Example on how to build a client using only the `defaultClient` class method. The default client enables client creation using very minimal configuratioin.


<pre><code class="language-typescript">// ClientBuilder.js
import { ClientBuilder, Client } from '@commercetools/sdk-client-v2'

const projectKey = 'demo-key'
const authUri = 'https://auth.europe-west1.gcp.commercetools.com'
const baseUri = 'https://api.europe-west1.gcp.commercetools.com'
const credentials = {
  clientId: 'clientID12345',
  clientSecret: 'clientSecret12345',
}

const client: Client = new ClientBuilder()
  .defaultClient(baseUri, credentials, authUri, projectKey)
  .build()
</code></pre>


It is also important to note that we can chain other middlewares or further configure the default client to suit the specific need of the client being built.

Example


<pre><code class="language-typescript">const client: Client = new ClientBuilder()
  .defaultClient(baseUri, credentials, authUri, projectKey)
  .withUserAgentMiddleware()
  .build()

or

const client: Client = new ClientBuilder()
  .defaultClient(baseUri, credentials, authUri, projectKey)
  .withUserAgentMiddleware()
  .withLoggerMiddleware()
  .build()
</code></pre>


Example on how to build a client using only the **withClientCredentialsFlow** and **withHttpMiddleware**


<pre><code class="language-typescript">// ClientBuilder.js

import fetch from 'node-fetch'
import {
  ClientBuilder,
  Client,
  AuthMiddlewareOptions,
  HttpMiddlewareOptions,
} from '@commercetools/sdk-client-v2'

// create the authMiddlewareOptions object
const authMiddlewareOptions: AuthMiddlewareOptions = {
  host: 'https://auth.europe-west1.gcp.commercetools.com',
  projectKey: 'demo-key',
  credentials: {
    clientId: 'clientID12345',
    clientSecret: 'clientSecret12345',
  },
  authUri: 'adminAuthUrl',
  scopes: ['manage_project:demo-key'],
  fetch,
}

// create the httpMiddlewareOptions object also
const httpMiddlewareOptions: HttpMiddlewareOptions = {
  host: 'https://api.europe-west1.gcp.commercetools.com',
  fetch,
}

export const client: Client = new ClientBuilder()
  .withProjectKey(projectKey) // not necessary if the projectKey was already passed in the authMiddlewareOptions
  .withClientCredentialsFlow(authMiddlewareOptions)
  .withHttpMiddleware(httpMiddlewareOptions)
  .withLoggerMiddleware()
  .build()
</code></pre>


Now the Client object is ready to be used to make HTTP calls.

Example


<pre><code class="language-typescript">import { client } from './ClientBuilder'
import {
  ApiRoot,
  createApiBuilderFromCtpClient,
} from '@commercetools/platform-sdk'

const apiRoot: ApiRoot = createApiBuilderFromCtpClient(client)

// to get a project details
const getProject = () =&gt; {
  return apiRoot.withProjectKey({ projectKey }).get().execute()
}

getProject().then(console.log).catch(console.error)
</code></pre>


`-`

# Middleware Creator Methods

Below is a list of all the class methods that can be invoked to add the functionality of a given middleware.

1. The authMiddleware creator methods
   - withAnonymousSessionFlow
   - withClientCredentialsFlow
   - withExistingTokenFlow
   - withPasswordFlow
   - withRefreshToken
2. Other middleware creator methods
   - withHttpMiddleware
   - withUserAgentMiddleware
   - withCorrelationIdMiddleware
   - withQueueMiddlewareware
   - withLoggerMiddleware
   - withMiddleware

### 1. The authMiddleware creator methods

These are class methods that creates auth middlewares using different authentication flows or method.

#### withAnonymousSessionFlow(options: _AnonymousAuthMiddlewareOptions_)

Creates a [middleware](https://commercetools.github.io/nodejs/sdk/Glossary.html#middleware) to handle authentication for the [Anonymous Session](https://docs.commercetools.com/http-api-authorization.html#tokens-for-anonymous-sessions) flow of the commercetools Platform API.

#### Named arguments (options)

1. `host` (_String_): the host of the OAuth API service
2. `projectKey` (_String_): the key of the project to assign the default scope to
3. `credentials` (_Object_): the client credentials for authentication (`clientId`, `clientSecret`, `anonymousId`)
4. `scopes` (_Array_): a list of scopes (default manage_project:{projectKey}) to assign to the OAuth token
5. `fetch` (_Function_): A fetch implementation which can be e.g. node-fetch or unfetch but also the native browser fetch function. Only needs be be passed if not globally available (e.g. through isomorphic-fetch)

#### Usage Example


<pre><code class="language-typescript">import fetch from 'node-fetch'
import { ClientBuilder, Client, AnonymousAuthMiddlewareOptions } from &quot;@commercetools/sdk-client-v2&quot;

const options: AnonymousAuthMiddlewareOptions = {
  host: 'https://auth.europe-west1.gcp.commercetools.com',
  projectKey: 'demo-key',
  credentials: {
    clientId: 'clientID12345',
    clientSecret: 'clientSecret12345',
    anonymousId: 'client-anonymousId',
  },
  scopes: ['manage_project:demo-key'],
  fetch,
}

const client: Client = new ClientBuilder()
  .withAnonymousSessionFlow(options)
  ...
</code></pre>


`-`

#### withClientCredentialsFlow(options: _AuthMiddlewareOptions_)

Creates a [middleware](https://commercetools.github.io/nodejs/sdk/Glossary.html#middleware) to handle authentication for the Client [Credentials Flow](https://docs.commercetools.com/http-api-authorization.html#client-credentials-flow) of the commercetools platform API.

#### Named arguments (options)

1. `host` (_String_): the host of the OAuth API service
2. `projectKey` (_String_): the key of the project to assign the default scope to
3. `credentials` (_Object_): the client credentials for authentication (`clientId`, `clientSecret`)
4. `oauthUri` (_String_): optional oauthUri string
5. `scopes` (_Array_): a list of scopes (default manage_project:{projectKey}) to assign to the OAuth token
6. `fetch` (_Function_): A fetch implementation which can be e.g. node-fetch or unfetch but also the native browser fetch function. Only needs be be passed if not globally available (e.g. through isomorphic-fetch)

#### Usage Example


<pre><code class="language-typescript">import fetch from 'node-fetch'
import { ClientBuilder, Client, AuthMiddlewareOptions } from &quot;@commercetools/sdk-client-v2&quot;

const options: AuthMiddlewareOptions = {
  host: 'https://auth.europe-west1.gcp.commercetools.com',
  projectKey: 'demo-key',
  credentials: {
    clientId: 'clientID12345',
    clientSecret: 'clientSecret12345',
  },
  oauthUri: '/oauth/token', // - optional custom oauthUri
  scopes: ['manage_project:demo-key'],
  fetch: fetch
}

const client: Client = new ClientBuilder()
  .withClientCredentialsFlow(options)
  ...
</code></pre>


`-`

#### withExistingTokenFlow(authorization: _string_, options: _ExistingTokenMiddlewareOptions_)

Creates a [middleware](https://commercetools.github.io/nodejs/sdk/Glossary.html#middleware) that attaches a provided access token `Authorization` header.

#### Named arguments (authorization, options)

1. `authorization` (_String_): the value for the Authorization header. For example, you may pass the scheme "Bearer" ("Bearer 1234") or "Basic" ("Basic 134") and so on, depending on your authentication mechanism.
2. `options` is an optional (_Object_), having the following properties:

- `force` (_Boolean_): if set to true, existing Authorization header (if any) in the request will be overridden with the supplied access token (Default: _true_)

#### Usage Example


<pre><code class="language-typescript">import fetch from &quot;node-fetch&quot;
import { ClientBuilder, Client, ExistingTokenMiddlewareOptions } from &quot;@commercetools/sdk-client-v2&quot;

const accessToken = 'my-access-token'
const options: ExistingTokenMiddlewareOptions = {
  force: true
}

const client: Client = new ClientBuilder()
  .withExistingTokenFlow(accessToken, options)
  ...
</code></pre>


`-`

#### withPasswordFlow(options: _PasswordAuthMiddlewareOptions_)

Creates a [middleware](https://commercetools.github.io/nodejs/sdk/Glossary.html#middleware) to handle authentication for the [Password Flow](https://docs.commercetools.com/http-api-authorization.html#password-flow) of the commercetools platform API.

#### Named arguments (options)

1. `host` (_String_): the host of the OAuth API service
2. `projectKey` (_String_): the key of the project to assign the default scope to
3. `credentials` (_Object_): the client credentials for authentication (clientId, clientSecret, user)

- The `user` field is an object containing `username` and `password` see sample below

4. `scopes` (_Array_): a list of scopes to assign to the OAuth token. No default scope is sent
5. `fetch` (_Function_): A fetch implementation which can be e.g. `node-fetch` or `unfetch` but also the native browser fetch function. Only needs be be passed if not globally available (e.g. through isomorphic-fetch)

#### Usage Example


<pre><code class="language-typescript">import fetch from &quot;node-fetch&quot;
import { ClientBuilder, Client, PasswordAuthMiddlewareOptions } from &quot;@commercetools/sdk-client-v2&quot;

const options: PasswordAuthMiddlewareOptions = {
  host: 'https://auth.europe-west1.gcp.commercetools.com',
  projectKey: 'demo-key'
  credentials: {
  clientId: 'myClientID12345,'
  clientSecret: 'myClientSecret12345,'
    user: {
      username: 'my-username',
      password: 'my-password',
    },
  },
  fetch,
}

const client: Client = new ClientBuilder()
  .withPasswordFlow(options)
  ...
</code></pre>


`-`

#### withRefreshTokenFlow(options: _RefreshAuthMiddlewareOptions_)

Creates a [middleware](https://commercetools.github.io/nodejs/sdk/Glossary.html#middleware) to handle authentication for the Refresh Token Flow of the commercetools platform API.

#### Named arguments (options)

1. `host` (_String_): the host of the OAuth API service
2. `projectKey` (_String_): the key of the project to assign the default scope to
3. `credentials` (_Object_): the client credentials for authentication (clientId, clientSecret)
4. `refreshToken` (_String_): refreshToken from the API to use to fetch new token.
5. `fetch` (_Function_): A fetch implementation which can be e.g. node-fetch or unfetch but also the native browser fetch function. Only needs be be passed if not globally available (e.g. through isomorphic-fetch)

#### Usage Example


<pre><code class="language-typescript">import fetch from &quot;node-fetch&quot;
import { ClientBuilder, Client, RefreshAuthMiddlewareOptions } from &quot;@commercetools/sdk-client-v2&quot;

const options: RefreshAuthMiddlewareOptions = {
  host: 'https://auth.europe-west1.gcp.commercetools.com',
  projectKey: 'demo-key',
  credentials: {
    clientId: 'clientID12345',
    clientSecret: 'clientSecret12345',
  },
  refreshToken: 'my-refreshToken',
  fetch,
}

const client: Client = new ClientBuilder()
  .withRefreshTokenFlow(options)
  ...
</code></pre>


`-`

### 2. Other middleware creator methods

There are other class methods that creates middlewares used to fully customize and control the client, they are described in details below.

#### withHttpMiddleware(options: _HttpMiddlewareOptions_)

Creates a [middleware](https://commercetools.github.io/nodejs/sdk/Glossary.html#middleware) to handle HTTP requests for the commercetools platform API.

The HTTP middleware can run in either a browser or Node.js environment. For Node.js environments it is important to either have a fetch implementation either globally available via e.g. [isomorphic-fetch](https://github.com/matthew-andrews/isomorphic-fetch) or to pass it in as an argument (see below) via e.g. [node-fetch](https://github.com/bitinn/node-fetch). In browsers without a native fetch implementation any well known fetch polyfill should be compatible with the middleware such as [whatwg-fetch](https://github.com/whatwg/fetch) or [unfetch](https://github.com/developit/unfetch).

#### Named arguments (options)

1. `host` (_String_): the host of the HTTP API service
2. `credentialsMode` (_String_): one of the supported credentials modes (`omit`, `same-origin`, `include`), useful when working with HTTP Cookies. (_optional_)
3. `includeResponseHeaders` (_Boolean_): flag whether to include the response headers in the response, if omitted headers is omitted from response
4. `includeOriginalRequest` (_Boolean_): flag whether to include the original request sent in the response. Can be useful if you want to see the final request being sent.
5. `maskSensitiveHeaderData` (_Boolean_): flag to mask sensitie data in the header. e.g. Authorization token
6. `enableRetry` (_Boolean_): flag to enable retry on network errors and 500 response. (Default: false)
7. `retryConfig` (_Object_): Field required in the object listed below
8. - `maxRetries` (_Number_): number of times to retry the request before failing the request. (Default: 50)
9. - `retryDelay` (_Number_): amount of milliseconds to wait before retrying the next request. (Default: 200)
10. - `backoff` (_Boolean_): activates exponential backoff. Recommended to prevent spamming of the server. (Default: true)
11. - `maxDelay` (_Number_): The maximum duration (milliseconds) to wait before retrying, useful if the delay time grew exponentially more than reasonable
12. `fetch` (_Function_): A fetch implementation which can be e.g. `node-fetch` or `unfetch` but also the native browser `fetch` function
13. `timeout` (_Number_): Request/response timeout in ms. Must have globally available or passed in AbortController
14. `getAbortController` depending on you chose to handle the timeout (`abortController`): This property accepts the `AbortController` instance. Could be [abort-controller](https://www.npmjs.com/package/abort-controller) or globally available one.

#### Note:

The `abortController` property is deprecated, use the `getAbortController` property instead.

#### Retrying requests

This modules have a retrying ability incase of network failures or 503 response errors. To enable this behavior, pass the `enableRetry` flag in the options and also set the maximum number of retries (`maxRetries`) and amount in milliseconds to wait before retrying a request (`retryDelay`).

The repeater implements an `exponential` delay, meaning the wait time is not constant and it grows on every retry.

#### retryConfig

This is an object that defines the properties needed to properly configure the retry logic. This configuration only works if the `enableRetries` property is set to `true`

- _maxRetries_ - This property is used to set the number of times the request should retry in an event the previous request failed, the default retries is 50.
- _retryDelay_ - This set the delay (time in milliseconds) between retries, it is important to choose a number that allow the previous request to fully complete before initiating the next retry assuming the previous request failed.
- _backoff_ - This is used to configure how the retries should be carried out, setting this property to `true` means the request will backoff for a while before retrying. Assuming the previous retry was done in a 2 seconds (2000 milliseconds) delay, the next retry will be say 4 seconds (4000 milliseconds) and the next 8 seconds (8 milliseconds) etc. It is also advisable to set the `maxDelay` property so delay doesn't grow too large.
- _maxDelay_ - Used to set the delay time limit for the backoff property, so as to prevent the backoff delay from increasing exponentially to infinity.

#### timeout

For setting the timeout (in milliseconds) for all http requests or responses in a situation where a request or response might take too long to be processed or completed respectively.

#### Token caching

The token is retrieved and cached upon the first request made by the client. Then, it gets refreshed when it expires. To utilize this, please make sure you use the same client instance and do not create new ones.

#### Usage example


<pre><code class="language-typescript">import fetch from &quot;node-fetch&quot;
import { ClientBuilder, Client, HttpMiddlewareOptions } from &quot;@commercetools/sdk-client-v2&quot;

const options: HttpMiddlewareOptions = {
  host: 'https://api.commercetools.com',
  includeResponseHeaders: true,
  includeOriginalRequest: true,
  maskSensitiveHeaderData: true,
  enableRetry: true,
  retryConfig: {
    maxRetries: 2,
    retryDelay: 300, //milliseconds
    backoff: false,
    maxDelay: 5000, //milliseconds
  },
  fetch,
}

const client: Client = new ClientBuilder()
  .withHttpMiddleware(options)
  ...
</code></pre>


##### getAbortController

This is used to signal the retry module to retry the request in an event of a request timeout or service outage.

#### Usage example


<pre><code class="language-typescript">import AbortController from 'abort-controller'
// Use default options
const options: HttpMiddlewareOptions = {
  host: testHost,
  timeout: 1000, // time out after 1s
  fetch,
  getAbortController: () =&gt; new AbortController(),
}
</code></pre>


This is to ensure that a new instance of the AbortController is always created and is independent of each other. Unlike the former (abortController) which only creates a single abortController instance for the middleware, in this very case, if a single request times out, it will propagate to all other http requests that is using the AbortController instance. This is useful when a bunch of sent out requests needs to timeout if at least one within the bunch times out.

##### getErrorByCode(code)

Returns a [custom error](https://commercetools.github.io/nodejs/sdk/Glossary.html#httperrortype) type given its status code.

Arguments
`code` (_Number_): the HTTP status code
Returns
(`Error` or `undefined`): A [custom error](https://commercetools.github.io/nodejs/sdk/Glossary.html#httperrortype) type (e.g. `BadRequest`, `Unauthorized`) if the code matches, otherwise `undefined`.

#### Usage example


<pre><code class="language-typescript">import { getErrorByCode } from '@commercetools/sdk-client-v2'

const ErrorType = getErrorByCode(400)
const error = new ErrorType('Oops')
</code></pre>


`-`

#### withUserAgentMiddleware()

Creates a [middleware](https://commercetools.github.io/nodejs/sdk/Glossary.html#middleware) to append the `User-Agent` HTTP header to the request.

#### Usage example


<pre><code class="language-typescript">import { ClientBuilder, Client } from &quot;@commercetools/sdk-client-v2&quot;

const client: Client = new ClientBuilder()
  .withUserAgentMiddleware()
  ...

// The User-Agent will be something like:
// commercetools-js-sdk Node.js/6.9.0 (darwin; x64) my-awesome-library/1.0.0 (+https://github.com/commercetools/my-awesome-library; +helpdesk@commercetools.com)
</code></pre>


`-`

#### withCorrelationIdMiddleware(options: _CorrelationIdMiddlewareOptions_)

Creates a middleware to add a correlation ID to executed [requests](https://commercetools.github.io/nodejs/sdk/Glossary.html#clientrequest).

#### Usage example


<pre><code class="language-typescript">import uuid from 'uuid'
import { ClientBuilder, Client, CorrelationIdMiddlewareOptions } from &quot;@commercetools/sdk-client-v2&quot;

const options: CorrelationIdMiddlewareOptions = {
  generate: `prefix/${uuid()}/postifx`
}

const client: Client = new ClientBuilder()
  .withCorrelationIdMiddleware(options)
  ...
</code></pre>


`-`

#### withQueueMiddleware(options: _QueueMiddlewareOptions_)

Creates a [middleware](https://commercetools.github.io/nodejs/sdk/Glossary.html#middleware) to handle concurrent requests.

#### Named arguments (options)

1. `concurrency` (_Number_): the max number of concurrent requests (default 20)

#### Usage example


<pre><code class="language-typescript">import { ClientBuilder, Client, QueueMiddlewareOptions } from &quot;@commercetools/sdk-client-v2&quot;

const options: QueueMiddlewareOptions = {
  concurrency: 5 // default is 20
}

const client: Client = new ClientBuilder()
  .withQueueMiddleware(options)
  ...
</code></pre>


`-`

#### withLoggerMiddleware()

Creates a [middleware](https://commercetools.github.io/nodejs/sdk/Glossary.html#middleware) to log request and response objects being executed.

#### Usage Example


<pre><code class="language-typescript">import { ClientBuilder, Client } from &quot;@commercetools/sdk-client-v2&quot;

cont client: Client = new ClientBuilder()
  .withClientCredentialsFlow(...)
  .withLoggerMiddleware() // Log the request / response at this point in the middleware chain, before it gets to the http-middleware
  .withHttpMiddleware(...)
  .withLoggerMiddleware() // Log the request / response after it's being handled by the http-middleware
  ...
</code></pre>


`-`

#### withMiddleware(middleware: Middleware)

A custom class method that accepts a middleware as a argument which is used to further configure the client. Notice how we called the underlying middleware creator function `createHttpClient` and `createAuthForClientCredentialsFlow` to create the middlewares here. With this one can easily use a custom middleware that serve a specific need.

#### Usage Example


<pre><code class="language-typescript">// ClientBuilder.js

import fetch from 'node-fetch'
import {
  ClientBuilder,
  Client,
  AuthMiddlewareOptions,
  HttpMiddlewareOptions,
  createAuthForClientCredentialsFlow,
  createHttpClient
} from '@commercetools/sdk-client-v2'
// create the authMiddlewareOptions object
const authMiddlewareOptions: AuthMiddlewareOptions = {
  host: 'https://auth.europe-west1.gcp.commercetools.com',
  projectKey: 'demo-key',
  credentials: {
    clientId: 'clientID12345',
    clientSecret: 'clientSecret12345',
  },
  oauthUri: '/oauth/token', // - optional custom oauthUri
  scopes: ['manage_project:demo-key'],
  fetch,
}

// create the httpMiddlewareOptions object also
const httpMiddlewareOptions: HttpMiddlewareOptions = {
  host: 'https://api.europe-west1.gcp.commercetools.com',
  fetch,
}

const Client: client = new clientBuilder()
  .withMiddleware(createAuthForClientCredentialsFlow(authMiddlewareOptions))
  .withMiddleware(createHttpClient(httpMiddlewareOptions))
  ...
</code></pre>


`-`

#### build()

To build the client after calling the class methods of choice that adds the middleware, we invoke the `build()` as the last method on the `new ClientBuilder()` class instance.

#### Usage Example


<pre><code class="language-typescript">...
const client: Client = new ClientBuilder()
  .withClientCredentialsFlow(...)
  .withHttpMiddleware(...)
  .withLoggerMiddleware()
  ...
  .build()
</code></pre>


-->












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.expand"], "search": "../../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>